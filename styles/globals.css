@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --color-primary: #007AFF; /* 苹果蓝 */
  --color-text: #333333; /* 深灰正文 */
  --color-bg: #FFFFFF; /* 纯白背景 */
  --color-bg-muted: #F8F8FA; /* 淡灰分区背景 */
}

html {
  overflow-x: hidden;
  scroll-behavior: smooth;
}

/* 移除所有自定义光标 */
* {
  cursor: default !important;
}

body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen,
    Ubuntu, Cantarell, 'Helvetica Neue', Arial, 'Apple Color Emoji',
    'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif;
  color: var(--color-text);
  background: var(--color-bg);
}

.dark body {
  color: #E5E7EB;
  background: #111827;
}

/* 交互指针规范 */
a,
button,
.cursor-pointer,
.site-page {
  cursor: pointer !important;
  transition: all 0.2s ease-in-out;
}

/* 区块上下留白（呼吸感） */
.section-padding {
  padding-top: 80px;
  padding-bottom: 80px;
}

.section-muted {
  background: var(--color-bg-muted);
}

/* 卡片网格（响应式Grid） */
.card-grid {
  display: grid;
  grid-template-columns: repeat(1, minmax(0, 1fr));
  gap: 24px;
}
@media (min-width: 640px) {
  .card-grid { grid-template-columns: repeat(2, minmax(0, 1fr)); }
}
@media (min-width: 1024px) {
  .card-grid { grid-template-columns: repeat(3, minmax(0, 1fr)); }
}

/* 微交互：按钮与卡片悬停上浮与阴影 */
.btn, .card, button, [role="button"], .group .card {
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}
.btn:hover, .card:hover, button:hover, [role="button"]:hover, .group:hover .card {
  transform: translateY(-3px);
  box-shadow: 0 8px 24px rgba(0,0,0,0.08);
}

/* 模仿安知鱼 Hover 放大效果 */
.site-page:hover {
  transform: translateY(-2px);
  color: #4259ef;
  text-shadow: 0 0 10px rgba(66, 89, 239, 0.2);
}

/* 古风微动效：淡入+轻浮动（用于卡片/按钮组合） */
.fx-fade-rise {
  opacity: 0;
  transform: translateY(6px);
  transition: opacity .4s ease, transform .4s ease;
}
.fx-fade-rise.in-view {
  opacity: 1;
  transform: translateY(0px);
}

/* 现有阴影卡片增加微交互 */
.shadow-card {
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}
.shadow-card:hover {
  transform: translateY(-3px);
}

.wrapper {
  min-height: 100vh;
  display: flex;
  flex-wrap: nowrap;
  align-items: stretch;
  justify-content: flex-start;
  flex-direction: column;
}

.sticky-nav {
  position: sticky;
  z-index: 10;
  top: -1px;
  -webkit-backdrop-filter: blur(5px);
  backdrop-filter: blur(5px);
  transition: all 0.5s cubic-bezier(0.4, 0, 0, 1);
  border-bottom-color: transparent;
}

.sticky-nav-full {
  @apply border-b border-opacity-50 border-gray-200 dark:border-gray-600 dark:border-opacity-50;
}

.header-name {
  overflow: hidden;
}

.sticky-nav-full .nav {
  @apply text-gray-600 dark:text-gray-300;
}

nav {
  flex-wrap: wrap;
  line-height: 1.5em;
}

.article-tags::-webkit-scrollbar {
  width: 0 !important;
}

.tag-container ul::-webkit-scrollbar {
  width: 0 !important;
}

.tag-container ul {
  -ms-overflow-style: none;
  overflow: -moz-scrollbars-none;
  -moz-user-select: none;
  -webkit-user-select: none;
  -ms-user-select: none;
  -khtml-user-select: none;
  user-select: none;
}

@media (min-width: 768px) {
  .sticky-nav-full {
    @apply max-w-full border-b border-opacity-50 border-gray-200 dark:border-gray-600 dark:border-opacity-50;
  }
  .header-name {
    display: block;
    transition: all 0.5s cubic-bezier(0.4, 0, 0, 1);
  }
  .sticky-nav-full .header-name {
    @apply dark:text-gray-300 text-gray-600;
  }
}

@supports not (backdrop-filter: none) {
  .sticky-nav {
    -webkit-backdrop-filter: none;
    backdrop-filter: none;
    @apply bg-day dark:bg-gray-800;
  }
}

.shadow-card {
  box-shadow:
    rgba(0, 0, 0, 0.07) 0px 1px 2px,
    rgba(0, 0, 0, 0.07) 0px 2px 4px,
    rgba(0, 0, 0, 0.07) 0px 4px 8px,
    rgba(0, 0, 0, 0.07) 0px 8px 16px,
    rgba(0, 0, 0, 0.07) 0px 16px 32px,
    rgba(0, 0, 0, 0.07) 0px 32px 64px;
}

.gt-meta {
  @apply dark:text-gray-300;
}

#waifu {
  @apply right-auto left-0 hidden lg:block z-10 !important;
}

/* 隐藏滚动条 */
.scroll-hidden {
  -ms-overflow-style: none;
  overflow: -moz-scrollbars-none;
  scrollbar-width: none; /* firefox */
}

.scroll-hidden::-webkit-scrollbar {
  width: 0 !important;
}

.glassmorphism {
  background: hsla(0, 0%, 100%, 0.05);
  -webkit-backdrop-filter: blur(10px);
  backdrop-filter: blur(10px);
}

@keyframes fade-in {
  0% {
    opacity: 0;
    transform: translateY(8px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in {
  animation: fade-in 0.25s ease both;
}

/* Algolia InstantSearch 基础样式 */
.ais-SearchBox-root {
  margin: 16px 0 20px;
}

.ais-SearchBox-form {
  position: relative;
}

.ais-SearchBox-input {
  width: 100%;
  border-radius: 16px;
  border: 1px solid rgba(148, 163, 184, 0.4);
  padding: 12px 44px 12px 16px;
  font-size: 15px;
  background: rgba(255, 255, 255, 0.9);
  transition: border 0.2s ease, box-shadow 0.2s ease;
}

.dark .ais-SearchBox-input {
  background: rgba(15, 23, 42, 0.8);
  border-color: rgba(148, 163, 184, 0.3);
  color: #e2e8f0;
}

.ais-SearchBox-input:focus {
  outline: none;
  border-color: rgba(99, 102, 241, 0.6);
  box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.2);
}

.ais-SearchBox-submit,
.ais-SearchBox-reset,
.ais-SearchBox-loadingIndicator {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  right: 12px;
  color: rgba(100, 116, 139, 0.8);
}

.ais-SearchBox-reset {
  right: 40px;
}

.ais-Hits-list {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.ais-Hits-item {
  padding: 0;
  border: none;
  background: transparent;
}

.ais-Highlight-highlighted,
.ais-Snippet-highlighted {
  background: rgba(66, 89, 239, 0.2);
  color: inherit;
  padding: 0 2px;
  border-radius: 4px;
}

.ais-Pagination-list {
  display: inline-flex;
  gap: 6px;
  align-items: center;
}

.ais-Pagination-item {
  border-radius: 8px;
}

.ais-Pagination-link {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 28px;
  height: 28px;
  border-radius: 8px;
  padding: 0 8px;
  font-size: 12px;
  color: #475569;
  border: 1px solid rgba(148, 163, 184, 0.3);
}

.ais-Pagination-item--selected .ais-Pagination-link {
  background: #4259ef;
  color: #fff;
  border-color: transparent;
}

.medium-zoom-overlay {
  background: none !important;
  /* background: rgba(0, 0, 0, 0.01) none repeat scroll 0% 0% !important; */
}

.shadow-text {
  text-shadow: 0.1em 0.1em 0.2em black;
}

.notion-code-copy-button > svg {
  pointer-events: none;
}

.fireworks {
  position: fixed;
  left: 0;
  top: 0;
  z-index: 1000;
  pointer-events: none;
}

[data-waline] p {
  color: var(--waline-color);
  @apply dark:text-gray-200 !important;
}

.waline-recent-content p {
  overflow: hidden;
  text-overflow: ellipsis;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
}

.waline-recent-content .wl-emoji {
  height: 1.1rem !important;
  display: inline-block !important;
  line-height: 1.25rem !important;
  vertical-align: text-bottom !important;
}

.vcontent .wl-emoji {
  display: inline-block;
  vertical-align: baseline;
  height: 1.25em;
  margin: -0.125em 0.25em;
}

/* twikoo 评论区超链接样式 */
.tk-main a {
  @apply text-blue-700;
}

/* twikoo 内置的 element-ui 加载样式 */
.el-loading-spinner {
  @apply flex justify-center items-center;
}

/* Webmention style */
.webmention-block {
  background: rgba(0, 116, 222, 0.2);
  padding: 1rem 2rem;
  border-radius: 5px;
}

.webmention-header {
  font-style: italic;
  font-weight: 700;
  font-size: 16px;
  margin-bottom: 0.5rem;
}

.webmention-block-intro a {
  color: #0000ee;
  text-decoration: underline;
}

.webmention {
  margin-top: 1rem;
  padding-top: 1rem;
  border-top: 1px solid rgba(0, 0, 0, 0.2);
}

.webmention-counts {
  padding: 16px 0;
  font-weight: bold;
}

.webmention-counts .count {
  font-weight: bold;
  margin-right: 0.2rem;
}

/* .webmention-counts .counts > span {
  margin-right: .8rem;
} */
.webmention-counts .counts > span:not(:last-child):after {
  content: ' • ';
}

a.avatar-wrapper {
  display: inline-block;
  width: 50px;
  height: 50px;
  position: relative;
}

.webmention-avatars .avatar-wrapper {
  margin-right: -8px;
}

.avatar {
  border-radius: 50%;
  margin: 0;
  border: 3px solid rgba(0, 116, 222, 0.5);
}

.replies {
  margin: 0;
  padding: 0;
}

.reply {
  list-style: none;
  display: flex;
  position: relative;
  padding: 0;
  align-items: flex-start;
  margin-top: 0.6rem;
}

.reply p {
  margin: 0;
}

.reply .text {
  margin-left: 1rem;
  font-size: 14px;
}

.reply-author-name {
  font-weight: 500;
}

.forbid-copy {
  user-select: none;
  -webkit-user-select: none;
  -ms-user-select: none;
}

.writing-vertical {
  writing-mode: vertical-rl; /* 竖向排列从右向左 */
  text-orientation: upright; /* 文字方向正常 */
}

/* Chatbase 在移动端禁止遮挡 */
@media (max-width: 700px) {
  button#chatbase-bubble-button {
    margin-bottom: 42px;
    margin-right: 20px;
  }
}

img {
  display: unset;
}

.adsbygoogle {
  overflow: hidden;
}


.lazy-image-placeholder{
  background: 
      linear-gradient(90deg,#0001 33%,#0005 50%,#0001 66%)
      #f2f2f2;
  background-size:300% 100%;
  animation: l1 1s infinite linear;
  }
  @keyframes l1 {
  0% {background-position: right}
}

.chinese-font {
  font-family: 'Noto Serif SC', 'Noto Sans SC', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', serif;
  letter-spacing: 0.08em;
}

.serif-font {
  font-family: 'Bitter', 'Noto Serif SC', 'Times New Roman', serif;
}

.writing-vertical-rl {
  writing-mode: vertical-rl;
  text-orientation: mixed;
}

@keyframes page-fade-in {
  0% {
    opacity: 0;
    filter: blur(6px);
    transform: translateY(8px);
  }
  100% {
    opacity: 1;
    filter: blur(0);
    transform: translateY(0);
  }
}

.animate-in {
  animation: page-fade-in 0.6s ease forwards;
}

@keyframes ink-reveal {
  0% {
    opacity: 0;
    filter: blur(8px);
    transform: scale(0.95) translateY(5px);
  }
  100% {
    opacity: 1;
    filter: blur(0);
    transform: scale(1) translateY(0);
  }
}

@keyframes seal-stamp {
  0% {
    opacity: 0;
    transform: scale(3) rotate(-15deg);
  }
  50% {
    opacity: 1;
    transform: scale(0.9) rotate(2deg);
  }
  75% {
    transform: scale(1.05) rotate(-1deg);
  }
  100% {
    opacity: 1;
    transform: scale(1) rotate(0deg);
  }
}

@keyframes mist-fade {
  0% {
    opacity: 1;
    filter: blur(0);
    transform: scale(1);
  }
  100% {
    opacity: 0;
    filter: blur(12px);
    transform: scale(1.05);
    visibility: hidden;
  }
}

.animate-ink {
  animation: ink-reveal 1.4s cubic-bezier(0.22, 1, 0.36, 1) forwards;
}

.animate-seal {
  animation: seal-stamp 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.animate-mist-out {
  animation: mist-fade 0.8s ease-in-out forwards;
}
