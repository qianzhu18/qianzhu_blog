// Minified WebGL Fluid Simulation (adapted): copied from HomePage/dist/js/background.js
function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_toPropertyKey(n.key),n)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){e=_toPrimitive(e,"string");return"symbol"==_typeof(e)?e:e+""}function _toPrimitive(e,r){if("object"!=_typeof(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return("string"===r?String:Number)(e);t=t.call(e,r||"default");if("object"!=_typeof(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}var canvas=document.getElementById("background");function pointerPrototype(){this.id=-1,this.texcoordX=0,this.texcoordY=0,this.prevTexcoordX=0,this.prevTexcoordY=0,this.deltaX=0,this.deltaY=0,this.down=!1,this.moved=!1,this.color=[30,0,300]}resizeCanvas();var pointers=[],splatStack=[],_getWebGLContext=(pointers.push(new pointerPrototype),getWebGLContext(canvas)),gl=_getWebGLContext.gl,ext=_getWebGLContext.ext;function getWebGLContext(e){var r,t,n={alpha:!0,depth:!1,stencil:!1,antialias:!1,preserveDrawingBuffer:!1},i=e.getContext("webgl2",n),o=!!i,n=(o||(i=e.getContext("webgl",n)||e.getContext("experimental-webgl",n)),e=o?(i.getExtension("EXT_color_buffer_float"),i.getExtension("OES_texture_float_linear")):(a=i.getExtension("OES_texture_half_float"),i.getExtension("OES_texture_half_float_linear")),i.clearColor(0,0,0,1),o?i.HALF_FLOAT:a.HALF_FLOAT_OES),a=o?(r=getSupportedFormat(i,i.RGBA16F,i.RGBA,n),t=getSupportedFormat(i,i.RG16F,i.RG,n),getSupportedFormat(i,i.R16F,i.RED,n)):(r=getSupportedFormat(i,i.RGBA,i.RGBA,n),t=getSupportedFormat(i,i.RGBA,i.RGBA,n),getSupportedFormat(i,i.RGBA,i.RGBA,n));return{gl:i,ext:{formatRGBA:r,formatRG:t,formatR:a,halfFloatTexType:n,supportLinearFiltering:e}}}function getSupportedFormat(e,r,t,n){if(!supportRenderTextureFormat(e,r,t,n))switch(r){case e.R16F:return getSupportedFormat(e,e.RG16F,e.RG,n);case e.RG16F:return getSupportedFormat(e,e.RGBA16F,e.RGBA,n);default:return null}return{internalFormat:r,format:t}}function supportRenderTextureFormat(e,r,t,n){var i=e.createTexture(),r=(e.bindTexture(e.TEXTURE_2D,i),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texImage2D(e.TEXTURE_2D,0,r,4,4,0,t,n,null),e.createFramebuffer());return e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,i,0),e.checkFramebufferStatus(e.FRAMEBUFFER)==e.FRAMEBUFFER_COMPLETE}function isMobile(){return/Mobi|Android/i.test(navigator.userAgent)}isMobile()&&(config.DYE_RESOLUTION=512),ext.supportLinearFiltering||(config.DYE_RESOLUTION=512,config.SHADING=!1,config.BLOOM=!1,config.SUNRAYS=!1);var Material=(()=>_createClass(function e(r,t){_classCallCheck(this,e),this.vertexShader=r,this.fragmentShaderSource=t,this.programs=[],this.activeProgram=null,this.uniforms=[]},[{key:"setKeywords",value:function(e){for(var r=0,t=0;t<e.length;t++)r+=hashCode(e[t]);var n,i=this.programs[r];null==i&&(n=compileShader(gl.FRAGMENT_SHADER,this.fragmentShaderSource,e),i=createProgram(this.vertexShader,n),this.programs[r]=i),i!=this.activeProgram&&(this.uniforms=getUniforms(i),this.activeProgram=i)}},{key:"bind",value:function(){gl.useProgram(this.activeProgram)}}]))(),Program=(()=>_createClass(function e(r,t){_classCallCheck(this,e),this.uniforms={},this.program=createProgram(r,t),this.uniforms=getUniforms(this.program)},[{key:"bind",value:function(){gl.useProgram(this.program)}}]))();function createProgram(e,r){var t=gl.createProgram();if(gl.attachShader(t,e),gl.attachShader(t,r),gl.linkProgram(t),gl.getProgramParameter(t,gl.LINK_STATUS))return t;throw gl.getProgramInfoLog(t)}function getUniforms(e){for(var r=[],t=gl.getProgramParameter(e,gl.ACTIVE_UNIFORMS),n=0;n<t;n++){var i=gl.getActiveUniform(e,n).name;r[i]=gl.getUniformLocation(e,i)}return r}function compileShader(e,r,t){r=addKeywords(r,t);t=gl.createShader(e);if(gl.shaderSource(t,r),gl.compileShader(t),gl.getShaderParameter(t,gl.COMPILE_STATUS))return t;throw gl.getShaderInfoLog(t)}function addKeywords(e,r){var t;return null==r?e:(t="",r.forEach(function(e){t+="#define "+e+"\n"}),t+e)}var dye,velocity,divergence,curl,pressure,bloom,sunrays,sunraysTemp,baseVertexShader=compileShader(gl.V
